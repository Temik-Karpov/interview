<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>2.3</title>
    <script type="text/javascript">
        function setPlusIcon()
        {
            var ul = document.getElementById("ul");
            var lis = ul.getElementsByTagName("li");
            for(var i = 0; i < lis.length; i++) {
                if(lis[i].querySelector('ul') != null)
                {
                    lis[i].style.listStyleImage = 'url("./plus.png")';  //затрудения с изменением маркера одного элемента списка
                }
            }

            var a = document.querySelectorAll('a');
            [].forEach.call( a, function aClick(el) {
                el.onclick = function(e) {
                       if(el.parentNode.querySelector('ul')) {
                           return false;
                       }
                       return true;
                }
            });
        }
    </script>
</head>
<body onload="javascript:setPlusIcon();">
<ul id="ul">
    <li><a href="#">Ссылка 1</a></li>
    <li><a href="#">Ссылка 2</a>
        <ul>
            <li><a href="#">Ссылка 2.1</a></li>
            <li><a href="#">Ссылка 2.2</a>
                <ul>
                    <li><a href="#">Ссылка 2.2.1</a></li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
</body>
</html>